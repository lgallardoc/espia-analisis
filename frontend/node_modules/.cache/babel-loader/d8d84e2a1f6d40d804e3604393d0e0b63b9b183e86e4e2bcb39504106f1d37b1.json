{"ast":null,"code":"var _jsxFileName = \"/Users/lagallardoc/github/espia-analisis/frontend/src/components/AnalysisResults.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport ReactCountryFlag from \"react-country-flag\";\nimport countryCodeLookup from \"country-code-lookup\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AnalysisResults = ({\n  data,\n  onBack,\n  tableInfo\n}) => {\n  _s();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [analysisResult, setAnalysisResult] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const itemsPerPage = 10;\n  const handleAnalyze = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get('http://localhost:5000/api/analyze-table', {\n        params: {\n          esquema: tableInfo.esquema,\n          tabla: tableInfo.tabla\n        },\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('Data recibida:', response.data);\n      setAnalysisResult(response.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error al analizar la tabla:', err);\n      setError(`Error al analizar la tabla: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getCountries = () => {\n    const countryCodes = new Set();\n    data.forEach(item => {\n      Object.keys(item).forEach(key => {\n        if (key !== \"clave\" && typeof item[key] === \"object\") {\n          Object.keys(item[key]).forEach(code => countryCodes.add(code));\n        }\n      });\n    });\n    return Array.from(countryCodes).sort();\n  };\n  const countries = getCountries();\n  const isoProperties = data.length > 0 ? Object.keys(data[0]).filter(key => key !== \"clave\") : [];\n  const filteredData = analysisResult.length > 0 ? analysisResult : data.filter(item => {\n    return item.clave.toLowerCase().includes(searchTerm.toLowerCase()) || isoProperties.some(prop => typeof item[prop] === \"object\" && Object.values(item[prop]).some(val => String(val).toLowerCase().includes(searchTerm.toLowerCase())));\n  });\n  const totalPages = Math.ceil(filteredData.length / itemsPerPage);\n  const paginatedData = filteredData.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n  const getCountryCode = paisCode => {\n    const country = countryCodeLookup.byIso(paisCode) || countryCodeLookup.byFips(paisCode);\n    return (country === null || country === void 0 ? void 0 : country.iso2) || \"CL\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8 overflow-x-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"Resultados del An\\xE1lisis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: [\"Esquema: \", tableInfo.esquema, \" | Tabla: \", tableInfo.tabla]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAnalyze,\n          className: \"btn btn-primary\",\n          disabled: loading,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"loading loading-spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), \"Analizando...\"]\n          }, void 0, true) : \"Analizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBack,\n          className: \"btn btn-secondary\",\n          children: \"Volver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-error mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"stroke-current shrink-0 h-6 w-6\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: \"2\",\n          d: \"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Buscar...\",\n        className: \"input input-bordered w-full max-w-xs\",\n        value: searchTerm,\n        onChange: e => {\n          setSearchTerm(e.target.value);\n          setCurrentPage(1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"badge badge-info\",\n        children: [filteredData.length, \" registros encontrados\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto border rounded-lg shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-[1000px] table table-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-200 text-xs sticky top-0 z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"bg-gray-200 border px-2 py-1\",\n              children: \"Clave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 9\n            }, this), isoProperties.map(prop => /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: countries.length,\n              className: \"bg-gray-200 border px-2 py-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center font-semibold\",\n                children: prop\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-center flex-wrap gap-1 mt-1\",\n                children: countries.map(country => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-1\",\n                  children: /*#__PURE__*/_jsxDEV(ReactCountryFlag, {\n                    countryCode: getCountryCode(country),\n                    svg: true,\n                    style: {\n                      width: \"1em\",\n                      height: \"1em\"\n                    },\n                    title: country\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 19\n                  }, this)\n                }, `${prop}-${country}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 17\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 13\n              }, this)]\n            }, prop, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 11\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"text-xs\",\n          children: paginatedData.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: index % 2 === 0 ? \"bg-white border\" : \"bg-gray-50 border hover:bg-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-2 py-1 border\",\n              children: item.clave\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 11\n            }, this), isoProperties.map(prop => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: countries.map(country => {\n                var _item$prop;\n                const value = (_item$prop = item[prop]) === null || _item$prop === void 0 ? void 0 : _item$prop[country];\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `text-center px-2 py-1 border ${value === null || value === undefined || value === \"\" ? \"bg-red-100 text-red-600 font-semibold\" : \"\"}`,\n                  children: value || \"-\"\n                }, `${prop}-${country}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this);\n              })\n            }, prop, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 13\n            }, this))]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"join\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"join-item btn\",\n          onClick: () => setCurrentPage(prev => Math.max(prev - 1, 1)),\n          disabled: currentPage === 1,\n          children: \"\\xAB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"join-item btn\",\n          children: [\"P\\xE1gina \", currentPage, \" de \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"join-item btn\",\n          onClick: () => setCurrentPage(prev => Math.min(prev + 1, totalPages)),\n          disabled: currentPage === totalPages || totalPages === 0,\n          children: \"\\xBB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(AnalysisResults, \"0e/ZhN/KgHvMskunYkHOYsBgHdA=\");\n_c = AnalysisResults;\nexport default AnalysisResults;\nvar _c;\n$RefreshReg$(_c, \"AnalysisResults\");","map":{"version":3,"names":["React","useState","ReactCountryFlag","countryCodeLookup","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AnalysisResults","data","onBack","tableInfo","_s","currentPage","setCurrentPage","searchTerm","setSearchTerm","analysisResult","setAnalysisResult","loading","setLoading","error","setError","itemsPerPage","handleAnalyze","response","get","params","esquema","tabla","headers","console","log","err","_err$response","_err$response$data","message","getCountries","countryCodes","Set","forEach","item","Object","keys","key","code","add","Array","from","sort","countries","isoProperties","length","filter","filteredData","clave","toLowerCase","includes","some","prop","values","val","String","totalPages","Math","ceil","paginatedData","slice","getCountryCode","paisCode","country","byIso","byFips","iso2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","xmlns","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","value","onChange","e","target","map","colSpan","countryCode","svg","style","width","height","title","index","_item$prop","undefined","prev","max","min","_c","$RefreshReg$"],"sources":["/Users/lagallardoc/github/espia-analisis/frontend/src/components/AnalysisResults.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReactCountryFlag from \"react-country-flag\";\nimport countryCodeLookup from \"country-code-lookup\";\nimport axios from \"axios\";\n\ninterface AnalysisResultsProps {\n  data: Array<{\n    clave: string;\n    [key: string]: any;\n  }>;\n  onBack: () => void;\n  tableInfo: {\n    esquema: string;\n    tabla: string;\n  };\n}\n\nconst AnalysisResults: React.FC<AnalysisResultsProps> = ({ data, onBack, tableInfo }) => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [analysisResult, setAnalysisResult] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const itemsPerPage = 10;\n\n  const handleAnalyze = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get('http://localhost:5000/api/analyze-table', {\n        params: {\n          esquema: tableInfo.esquema,\n          tabla: tableInfo.tabla\n        },\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      console.log('Data recibida:', response.data);\n      setAnalysisResult(response.data);\n    } catch (err: any) {\n      console.error('Error al analizar la tabla:', err);\n      setError(`Error al analizar la tabla: ${err.response?.data?.message || err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getCountries = () => {\n    const countryCodes = new Set<string>();\n    data.forEach(item => {\n      Object.keys(item).forEach(key => {\n        if (key !== \"clave\" && typeof item[key] === \"object\") {\n          Object.keys(item[key]).forEach(code => countryCodes.add(code));\n        }\n      });\n    });\n    return Array.from(countryCodes).sort();\n  };\n\n  const countries = getCountries();\n  const isoProperties = data.length > 0 \n    ? Object.keys(data[0]).filter(key => key !== \"clave\") \n    : [];\n\n  const filteredData = analysisResult.length > 0 ? analysisResult : data.filter(item => {\n    return (\n      item.clave.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      isoProperties.some(prop => \n        typeof item[prop] === \"object\" &&\n        Object.values(item[prop]).some(val => \n          String(val).toLowerCase().includes(searchTerm.toLowerCase())\n        )\n      )\n    );\n  });\n\n  const totalPages = Math.ceil(filteredData.length / itemsPerPage);\n  const paginatedData = filteredData.slice(\n    (currentPage - 1) * itemsPerPage,\n    currentPage * itemsPerPage\n  );\n\n  const getCountryCode = (paisCode: string) => {\n    const country =\n      countryCodeLookup.byIso(paisCode) || countryCodeLookup.byFips(paisCode);\n    return country?.iso2 || \"CL\";\n  };\n\n  return (\n    <div className=\"p-8 overflow-x-auto\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Resultados del Análisis</h1>\n          <p className=\"text-sm text-gray-500\">\n            Esquema: {tableInfo.esquema} | Tabla: {tableInfo.tabla}\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <button \n            onClick={handleAnalyze} \n            className=\"btn btn-primary\" \n            disabled={loading}\n          >\n            {loading ? (\n              <>\n                <span className=\"loading loading-spinner\"></span>\n                Analizando...\n              </>\n            ) : (\n              \"Analizar\"\n            )}\n          </button>\n          <button onClick={onBack} className=\"btn btn-secondary\">\n            Volver\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"alert alert-error mb-4\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <span>{error}</span>\n        </div>\n      )}\n\n      <div className=\"mb-4 flex justify-between items-center\">\n        <input\n          type=\"text\"\n          placeholder=\"Buscar...\"\n          className=\"input input-bordered w-full max-w-xs\"\n          value={searchTerm}\n          onChange={(e) => {\n            setSearchTerm(e.target.value);\n            setCurrentPage(1);\n          }}\n        />\n        <div className=\"badge badge-info\">\n          {filteredData.length} registros encontrados\n        </div>\n      </div>\n\n <div className=\"overflow-auto border rounded-lg shadow-md\">\n  <table className=\"min-w-[1000px] table table-sm\">\n    <thead className=\"bg-gray-200 text-xs sticky top-0 z-10\">\n      <tr>\n        <th className=\"bg-gray-200 border px-2 py-1\">Clave</th>\n        {isoProperties.map((prop) => (\n          <th key={prop} colSpan={countries.length} className=\"bg-gray-200 border px-2 py-1\">\n            <div className=\"text-center font-semibold\">{prop}</div>\n            <div className=\"flex justify-center flex-wrap gap-1 mt-1\">\n              {countries.map((country) => (\n                <div key={`${prop}-${country}`} className=\"px-1\">\n                  <ReactCountryFlag\n                    countryCode={getCountryCode(country)}\n                    svg\n                    style={{ width: \"1em\", height: \"1em\" }}\n                    title={country}\n                  />\n                </div>\n              ))}\n            </div>\n          </th>\n        ))}\n      </tr>\n    </thead>\n    <tbody className=\"text-xs\">\n      {paginatedData.map((item, index) => (\n        <tr\n          key={index}\n          className={index % 2 === 0 ? \"bg-white border\" : \"bg-gray-50 border hover:bg-gray-100\"}\n        >\n          <td className=\"px-2 py-1 border\">{item.clave}</td>\n          {isoProperties.map((prop) => (\n            <React.Fragment key={prop}>\n              {countries.map((country) => {\n                const value = item[prop]?.[country];\n                return (\n                  <td\n                    key={`${prop}-${country}`}\n                    className={`text-center px-2 py-1 border ${\n                      value === null || value === undefined || value === \"\"\n                        ? \"bg-red-100 text-red-600 font-semibold\"\n                        : \"\"\n                    }`}\n                  >\n                    {value || \"-\"}\n                  </td>\n                );\n              })}\n            </React.Fragment>\n          ))}\n        </tr>\n      ))}\n    </tbody>\n  </table>\n</div>\n\n      <div className=\"flex justify-center mt-4\">\n        <div className=\"join\">\n          <button\n            className=\"join-item btn\"\n            onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\n            disabled={currentPage === 1}\n          >\n            «\n          </button>\n          <button className=\"join-item btn\">\n            Página {currentPage} de {totalPages}\n          </button>\n          <button\n            className=\"join-item btn\"\n            onClick={() =>\n              setCurrentPage((prev) => Math.min(prev + 1, totalPages))\n            }\n            disabled={currentPage === totalPages || totalPages === 0}\n          >\n            »\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AnalysisResults;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}